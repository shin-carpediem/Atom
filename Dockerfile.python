# Python3.7.10のイメージを基にする
FROM python:3.7.10
# Pythonが標準入出力をバッファリングすることを防ぐ
ENV PYTHONUNBUFFERED 1

# ビルド時に/codeというディレクトリを作成する
RUN mkdir /code

# ワークディレクトリの設定
WORKDIR /code

# requirements.txtを/code/にコピーする
ADD requirements.txt /code/

# requirements.txtを基にpip installする
RUN pip install -r requirements.txt
ADD . /code/

# "python manage.py makemessages -l en" のエラーを解消するため
RUN apt-get update && apt-get install -y gettext libgettextpo-dev
