{% extends 'users/base.html' %}
{% load i18n %}
{% load static %}
{% block content %}
<div class="text-center my-5">
  {% if request.user.house == None %}
  <p>
      {% trans "住んでいるハウスを選択してください" %}
  </p>
</div>
<div class="px-2 mt-4">
  <form name="select_house" class="mb-4" action="{% url 'users:index' %}" method="POST">{% csrf_token %}
    {{ house_choose_form.as_p }}
    <button type="submit" class="btn w-100 mt-2">
      {% trans "このハウスメンバーとして登録" %}
    </button>
  </form>
  {% else %}
  <p class="px-2 mt-4">
    {% trans "あなたは" %}
    {{ request.user.house }}
    {% trans "ハウスメイトとして登録しています" %}
  </p>
  <form action="{% url 'app:room' %}" method="POST">{% csrf_token %}
    <button type="submit" class="mt-2 mb-5 btn w-100">
      {% trans "割り振られた家事を見る" %}
    </button>
  </form>
  {% endif %}

  <div class="pt-3 row">
    <div class="col-4">
      <p class="logout" id="logout">
        {% trans "ログアウト" %}
      </p>
    </div>
    {% if user.is_staff %}
    <a href="/admin/" target="_blank" rel="noopener noreferrer">
      {% trans "ハウス管理" %}
    </a>
    {% else %}
    <a href="{% url 'users:request_house_owner' %}">
      {% trans "ハウス管理者権限の申請" %}
    </a>
    {% endif %}
  </div>
  <div class="py-2 row">
    <p class="withdraw col-4" id="withdraw">
      {% trans "退会" %}
    </p>
  </div>
</div>
{% endblock %}
